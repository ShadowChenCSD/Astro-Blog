import{o as j,a as z,i as M}from"./lifecycle.DiKFBckx.js";import{c as O,f as T,a as m,p as k,b as D,g as s,m as f,d as I,s as $,e as q,r as x,t as A,h as u}from"./template.DrFZJj1y.js";import{i as E}from"./if.CID1ihJa.js";import{s as F,a as h}from"./attributes.HWtsdEEu.js";import{b as v}from"./this.DwCvQvc9.js";import{p as e}from"./config.uqQ-gCpj.js";/* empty css                        */import"./utils.BxAF_LkW.js";var B=I('<div><div class="pio-action"></div> <canvas id="pio"></canvas></div>');function U(P,g){D(g,!1);const _={mode:e.mode,hidden:e.hiddenOnMobile,content:e.dialog||{},model:e.models||["/pio/models/pio/model.json"]};let w=null,c=!1,r=f(),l=f();function d(){if(typeof window<"u"&&typeof Paul_Pio<"u")try{s(r)&&s(l)&&!c?(w=new Paul_Pio(_),c=!0,console.log("Pio initialized successfully (Svelte)")):(!s(r)||!s(l))&&(console.warn("Pio DOM elements not found, retrying..."),setTimeout(d,100))}catch(i){console.error("Pio initialization error:",i)}else setTimeout(d,100)}function y(){if(typeof window>"u")return;const i=(o,t)=>new Promise((n,S)=>{if(document.querySelector(`#${t}`)){n();return}const a=document.createElement("script");a.id=t,a.src=o,a.onload=n,a.onerror=S,document.head.appendChild(a)});i("/pio/static/l2d.js","pio-l2d-script").then(()=>i("/pio/static/pio.js","pio-main-script")).then(()=>{setTimeout(d,100)}).catch(o=>{console.error("Failed to load Pio scripts:",o)})}j(()=>{y()}),z(()=>{console.log("Pio Svelte component destroyed (keeping instance alive)")}),M();var p=O(),b=T(p);{var C=i=>{var o=B(),t=$(q(o),2);v(t,n=>u(l,n),()=>s(l)),x(o),v(o,n=>u(r,n),()=>s(r)),A(()=>{F(o,1,`pio-container ${e.position}`),h(t,"width",e.width),h(t,"height",e.height)}),m(i,o)};E(b,i=>{i(C)})}m(P,p),k()}export{U as default};
